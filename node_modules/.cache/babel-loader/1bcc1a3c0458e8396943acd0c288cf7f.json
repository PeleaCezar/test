{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nimport { EventHandler, formatUnit, isNullOrUndefined, createElement, addClass, append, prepend, remove } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month view\n */\n\nvar Month =\n/** @class */\nfunction (_super) {\n  __extends(Month, _super);\n\n  function Month(parent) {\n    var _this = _super.call(this, parent) || this;\n\n    _this.dayNameFormat = 'wide';\n    _this.viewClass = 'e-month-view';\n    _this.isInverseTableSelect = false;\n    _this.monthEvent = null;\n    _this.monthDates = {};\n    return _this;\n  }\n\n  Month.prototype.addEventListener = function () {\n    this.parent.on(event.scrollUiUpdate, this.onScrollUIUpdate, this);\n    this.parent.on(event.dataReady, this.onDataReady, this);\n    this.parent.on(event.cellClick, this.onCellClick, this);\n  };\n\n  Month.prototype.removeEventListener = function () {\n    if (this.parent) {\n      this.parent.off(event.scrollUiUpdate, this.onScrollUIUpdate);\n      this.parent.off(event.dataReady, this.onDataReady);\n      this.parent.off(event.cellClick, this.onCellClick);\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Month.prototype.onDataReady = function (args) {\n    this.monthEvent = new MonthEvent(this.parent);\n    this.monthEvent.renderAppointments();\n    this.parent.notify(event.eventsLoaded, {});\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Month.prototype.onCellClick = function (event) {};\n\n  Month.prototype.onContentScroll = function (e) {\n    this.parent.removeNewEventElement();\n    this.parent.notify(event.virtualScroll, e);\n    this.scrollTopPanel(e.target);\n    this.scrollLeftPanel(e.target);\n    this.parent.uiStateValues.top = e.target.scrollTop;\n    this.parent.uiStateValues.left = e.target.scrollLeft;\n    this.setPersistence();\n  };\n\n  Month.prototype.scrollLeftPanel = function (target) {\n    var leftPanel = this.getLeftPanelElement();\n\n    if (leftPanel) {\n      leftPanel.scrollTop = target.scrollTop;\n    }\n  };\n\n  Month.prototype.getLeftPanelElement = function () {\n    return this.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS);\n  };\n\n  Month.prototype.onScrollUIUpdate = function (args) {\n    var headerHeight = this.getHeaderBarHeight();\n    var header = this.getDatesHeaderElement();\n    var content = this.getContentAreaElement();\n    var height = this.parent.element.offsetHeight - headerHeight - header.offsetHeight;\n    var leftPanel = this.getLeftPanelElement();\n\n    if (this.parent.height !== 'auto') {\n      this.setContentHeight(content, leftPanel, height);\n    }\n\n    var scrollBarWidth = util.getScrollBarWidth();\n    header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n    header.style[args.cssProperties.rtlPadding] = '';\n\n    if (content.offsetWidth - content.clientWidth > 0) {\n      header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n      header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n    } else {\n      header.firstElementChild.style[args.cssProperties.border] = '';\n      header.style[args.cssProperties.padding] = '';\n    }\n\n    this.setColWidth(content);\n\n    if (args.scrollPosition || !args.isPreventScrollUpdate && this.parent.currentView === 'TimelineMonth') {\n      var top_1 = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.top : args.scrollPosition.top;\n\n      if (leftPanel) {\n        leftPanel.scrollTop = top_1;\n      }\n\n      content.scrollTop = top_1;\n\n      if (this.parent.uiStateValues.isInitial) {\n        this.scrollToSelectedDate();\n        this.parent.uiStateValues.isInitial = false;\n      } else {\n        content.scrollLeft = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.left : args.scrollPosition.left;\n      }\n    } else {\n      this.scrollToSelectedDate();\n    }\n\n    this.retainScrollPosition();\n  };\n\n  Month.prototype.scrollToSelectedDate = function () {\n    var headerCell = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"' + this.parent.selectedDate.getTime().toString() + '\"]');\n    var content = this.getContentAreaElement();\n\n    if (!isNullOrUndefined(headerCell)) {\n      content.scrollLeft = !this.parent.enableRtl ? headerCell.offsetLeft : -(this.parent.getContentTable().offsetWidth - headerCell.offsetLeft - headerCell.offsetWidth);\n    } else {\n      content.scrollLeft = 0;\n    }\n\n    if (content.scrollLeft === 0 && this.parent.uiStateValues.isInitial) {\n      this.parent.uiStateValues.left = 0;\n    }\n  };\n\n  Month.prototype.setContentHeight = function (content, leftPanelElement, height) {\n    content.style.height = 'auto';\n\n    if (this.parent.currentView === 'Month') {\n      content.style.height = formatUnit(height);\n    }\n\n    if (leftPanelElement) {\n      if (this.parent.currentView === 'MonthAgenda') {\n        height = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n      }\n\n      leftPanelElement.style.height = 'auto';\n      leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n    }\n  };\n\n  Month.prototype.generateColumnLevels = function () {\n    var colLevels = [];\n    var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      colLevels = this.parent.resourceBase.generateResourceLevels(level);\n\n      if (this.parent.currentView === 'MonthAgenda') {\n        colLevels = [level];\n      }\n\n      if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n        var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        colLevels = [this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays)];\n      }\n    } else {\n      colLevels.push(level);\n    }\n\n    this.colLevels = colLevels;\n    return colLevels;\n  };\n\n  Month.prototype.getDateSlots = function (renderDates, workDays) {\n    var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : workDays.length;\n    var dateSlots = [];\n    var isCurrentMonth = this.isCurrentMonth(this.parent.selectedDate);\n\n    for (var col = 0; col < count; col++) {\n      var classList = [cls.HEADER_CELLS_CLASS];\n      var currentDateIndex = renderDates.slice(0, count).map(function (date) {\n        return date.getDay();\n      });\n\n      if (isCurrentMonth && currentDateIndex.indexOf(this.parent.getCurrentTime().getDay()) === col) {\n        classList.push(cls.CURRENT_DAY_CLASS);\n      }\n\n      dateSlots.push({\n        date: renderDates[col],\n        type: 'monthDay',\n        className: classList,\n        colSpan: 1,\n        workDays: workDays\n      });\n    }\n\n    return dateSlots;\n  };\n\n  Month.prototype.getDayNameFormat = function () {\n    if (this.parent.isAdaptive || this.parent.activeViewOptions.group.resources.length > 0) {\n      return 'abbreviated';\n    }\n\n    return 'wide';\n  };\n\n  Month.prototype.renderLayout = function (type) {\n    this.dayNameFormat = this.getDayNameFormat();\n    this.setPanel(createElement('div', {\n      className: cls.TABLE_WRAP_CLASS\n    }));\n    var clsList = [this.viewClass];\n    clsList.push(type);\n\n    if (this.parent.activeViewOptions.group.byDate) {\n      clsList.push('e-by-date');\n    }\n\n    if (this.parent.activeViewOptions.allowVirtualScrolling) {\n      clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n    }\n\n    if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n      clsList.push(cls.IGNORE_WHITESPACE);\n    }\n\n    addClass([this.element], clsList);\n    this.renderPanel(type);\n    this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n    this.element.querySelector('table').setAttribute('role', 'presentation');\n    this.colLevels = this.generateColumnLevels();\n    this.renderHeader();\n    this.renderContent();\n    var target = this.parent.currentView === 'MonthAgenda' ? this.parent.activeView.getPanel() : this.parent.element;\n\n    if (this.parent.uiStateValues.isGroupAdaptive && !target.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n      this.renderResourceMobileLayout();\n    }\n\n    this.parent.notify(event.contentReady, {});\n\n    if (this.parent.uiStateValues.isCustomMonth) {\n      this.parent.uiStateValues.isCustomMonth = false;\n    }\n  };\n\n  Month.prototype.refreshHeader = function () {\n    remove(this.element.querySelector('tbody tr'));\n    this.renderHeader();\n    this.parent.notify(event.contentReady, {});\n  };\n\n  Month.prototype.wireCellEvents = function (element) {\n    EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n    EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n\n    if (!this.parent.isAdaptive) {\n      EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n    }\n  };\n\n  Month.prototype.renderHeader = function () {\n    var tr = createElement('tr');\n    this.renderLeftIndent(tr);\n    var dateTd = createElement('td');\n    dateTd.appendChild(this.renderDatesHeader());\n    tr.appendChild(dateTd);\n    prepend([tr], this.element.querySelector('tbody'));\n  };\n\n  Month.prototype.renderLeftIndent = function (tr) {\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(createElement('td', {\n        className: 'e-left-indent'\n      }));\n    }\n  };\n\n  Month.prototype.renderContent = function () {\n    var tr = createElement('tr');\n\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(this.renderWeekNumberContent());\n    }\n\n    var workTd = createElement('td');\n    var wrap = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    var contentArea = this.renderContentArea();\n\n    if (this.parent.currentView === 'Month') {\n      wrap.appendChild(contentArea);\n    } else {\n      var monthAgendaWrapper = createElement('div', {\n        className: cls.TABLE_CONTAINER_CLASS\n      });\n      monthAgendaWrapper.appendChild(contentArea);\n      wrap.appendChild(monthAgendaWrapper);\n    }\n\n    EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n    workTd.appendChild(wrap);\n    tr.appendChild(workTd);\n    this.element.querySelector('tbody').appendChild(tr);\n    this.renderAppointmentContainer();\n  };\n\n  Month.prototype.renderWeekNumberContent = function () {\n    var dateCol = this.renderDates.map(function (date) {\n      return new Date(+date);\n    });\n    var td = createElement('td');\n    var contentWrapper = createElement('div', {\n      className: cls.WEEK_NUMBER_WRAPPER_CLASS\n    });\n    td.appendChild(contentWrapper);\n    var contentWrapTable = this.createTableLayout();\n    contentWrapper.appendChild(contentWrapTable);\n    var noOfDays = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : this.parent.activeViewOptions.workDays.length;\n\n    for (var i = 0, length_1 = this.renderDates.length / noOfDays; i < length_1; i++) {\n      var dates = dateCol.splice(0, noOfDays);\n      var weekNumber = this.parent.getWeekNumberContent(dates);\n      contentWrapTable.querySelector('tbody').appendChild(this.createWeekNumberElement(weekNumber));\n    }\n\n    return td;\n  };\n\n  Month.prototype.renderAppointmentContainer = function () {//Here needs to render mobile view appointment details on selected date\n  };\n\n  Month.prototype.renderDatesHeader = function () {\n    var container = createElement('div', {\n      className: cls.DATE_HEADER_CONTAINER_CLASS\n    });\n    var wrap = createElement('div', {\n      className: cls.DATE_HEADER_WRAP_CLASS\n    });\n    container.appendChild(wrap);\n    var table = this.createTableLayout();\n    this.createColGroup(table, this.colLevels[this.colLevels.length - 1]);\n    var trEle = createElement('tr');\n\n    for (var i = 0; i < this.colLevels.length; i++) {\n      var level = this.colLevels[i];\n      var ntr = trEle.cloneNode();\n\n      for (var j = 0; j < level.length; j++) {\n        var td = level[j];\n        ntr.appendChild(this.createHeaderCell(td));\n      }\n\n      table.querySelector('tbody').appendChild(ntr);\n    }\n\n    wrap.appendChild(table);\n    return container;\n  };\n\n  Month.prototype.createHeaderCell = function (td) {\n    var tdEle = createElement('td');\n    this.addAttributes(td, tdEle);\n\n    if (td.type === 'monthDay') {\n      var ele = createElement('span', {\n        innerHTML: util.capitalizeFirstWord(this.parent.getDayNames(this.dayNameFormat)[td.date.getDay()], 'single')\n      });\n      tdEle.appendChild(ele);\n    }\n\n    if (td.type === 'resourceHeader') {\n      this.setResourceHeaderContent(tdEle, td);\n    }\n\n    if (td.type === 'dateHeader') {\n      addClass([tdEle], cls.DATE_HEADER_CLASS);\n      tdEle.setAttribute('data-date', td.date.getTime().toString());\n\n      if (this.parent.activeViewOptions.dateHeaderTemplate) {\n        var cellArgs = {\n          date: td.date,\n          type: td.type\n        };\n        var elementId = this.parent.element.id + '_';\n        var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n        var templateId = elementId + viewName + 'dateHeaderTemplate';\n        var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(cellArgs, this.parent, 'dateHeaderTemplate', templateId, false));\n\n        if (dateTemplate && dateTemplate.length) {\n          append(dateTemplate, tdEle);\n        }\n      } else {\n        var ele = createElement('span', {\n          className: cls.NAVIGATE_CLASS\n        });\n        var skeleton = 'full';\n        var title = this.parent.globalize.formatDate(td.date, {\n          skeleton: skeleton,\n          calendar: this.parent.getCalendarMode()\n        });\n        ele.setAttribute('title', util.capitalizeFirstWord(title, 'multiple'));\n        var innerText = this.parent.calendarUtil.isMonthStart(td.date) && !this.isCurrentDate(td.date) && !this.parent.isAdaptive ? this.parent.globalize.formatDate(td.date, {\n          format: 'MMM d',\n          calendar: this.parent.getCalendarMode()\n        }) : this.parent.globalize.formatDate(td.date, {\n          skeleton: 'd',\n          calendar: this.parent.getCalendarMode()\n        });\n        ele.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n        tdEle.appendChild(ele);\n      }\n\n      this.wireCellEvents(tdEle);\n    }\n\n    var args = {\n      elementType: td.type,\n      element: tdEle,\n      date: td.date,\n      groupIndex: td.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return tdEle;\n  };\n\n  Month.prototype.getContentSlots = function () {\n    if (!(this.colLevels[this.colLevels.length - 1] && this.colLevels[this.colLevels.length - 1][0])) {\n      return [];\n    }\n\n    var slotDatas = [];\n\n    var prepareSlots = function (rowIndex, renderDate, resData, classList) {\n      var data = {\n        date: new Date(+renderDate),\n        groupIndex: resData.groupIndex,\n        workDays: resData.workDays,\n        type: 'monthCells',\n        className: classList || [cls.WORK_CELLS_CLASS]\n      };\n\n      if (!slotDatas[rowIndex]) {\n        slotDatas[rowIndex] = [];\n      }\n\n      slotDatas[rowIndex].push(data);\n    };\n\n    var includeResource = this.parent.currentView !== 'MonthAgenda' && this.parent.activeViewOptions.group.resources.length > 0;\n\n    if (includeResource && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeViewOptions.group.byDate) {\n      for (var _i = 0, _a = this.colLevels[this.colLevels.length - 2]; _i < _a.length; _i++) {\n        var res = _a[_i];\n        var dates = res.renderDates.map(function (date) {\n          return new Date(+date);\n        });\n        var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : res.workDays.length;\n\n        for (var i = 0; i < res.renderDates.length / count; i++) {\n          var colDates = dates.splice(0, count);\n\n          for (var _b = 0, colDates_1 = colDates; _b < colDates_1.length; _b++) {\n            var colDate = colDates_1[_b];\n            prepareSlots(i, colDate, res);\n          }\n        }\n      }\n    } else {\n      var dates = this.renderDates.map(function (date) {\n        return new Date(+date);\n      });\n      var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : this.parent.activeViewOptions.workDays.length;\n\n      for (var i = 0; i < this.renderDates.length / count; i++) {\n        var colDates = dates.splice(0, count);\n\n        for (var _c = 0, colDates_2 = colDates; _c < colDates_2.length; _c++) {\n          var colDate = colDates_2[_c];\n\n          if (includeResource) {\n            var lastRow = this.colLevels[this.colLevels.length - 1];\n            var resourcesTd = lastRow.slice(0, lastRow.length / count);\n\n            for (var resIndex = 0; resIndex < resourcesTd.length; resIndex++) {\n              var clsList = void 0;\n\n              if (resIndex !== 0) {\n                clsList = [cls.WORK_CELLS_CLASS, cls.DISABLE_DATE];\n              }\n\n              prepareSlots(i, colDate, resourcesTd[resIndex], clsList);\n            }\n          } else {\n            prepareSlots(i, colDate, this.colLevels[this.colLevels.length - 1][0]);\n          }\n        }\n      }\n    }\n\n    return slotDatas;\n  };\n\n  Month.prototype.updateClassList = function (data) {\n    if (!this.isCustomMonth() && this.isOtherMonth(data.date)) {\n      data.className.push(cls.OTHERMONTH_CLASS);\n    }\n\n    if (!this.parent.isMinMaxDate(data.date)) {\n      data.className.push(cls.DISABLE_DATES);\n    }\n\n    if (this.parent.currentView === 'MonthAgenda' && this.parent.isSelectedDate(data.date)) {\n      data.className.push(cls.SELECTED_CELL_CLASS);\n    }\n  };\n\n  Month.prototype.isOtherMonth = function (date) {\n    return date.getTime() < this.monthDates.start.getTime() || date.getTime() > this.monthDates.end.getTime();\n  };\n\n  Month.prototype.renderContentArea = function () {\n    var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n    this.addAutoHeightClass(tbl);\n\n    if (this.parent.currentView === 'TimelineMonth') {\n      this.createColGroup(tbl, this.colLevels[this.colLevels.length - 1]);\n    }\n\n    var monthDate = new Date(this.parent.selectedDate.getTime());\n    this.monthDates = {\n      start: this.parent.calendarUtil.firstDateOfMonth(monthDate),\n      end: this.parent.calendarUtil.lastDateOfMonth(util.addMonths(monthDate, this.parent.activeViewOptions.interval - 1))\n    };\n    var tBody = tbl.querySelector('tbody');\n    append(this.getContentRows(), tBody);\n    this.wireCellEvents(tBody);\n    return tbl;\n  };\n\n  Month.prototype.getContentRows = function () {\n    var trows = [];\n    var tr = createElement('tr', {\n      attrs: {\n        role: 'row'\n      }\n    });\n    var td = createElement('td', {\n      attrs: {\n        role: 'gridcell',\n        'aria-selected': 'false'\n      }\n    });\n    var slotDatas = this.getContentSlots();\n\n    for (var row = 0; row < slotDatas.length; row++) {\n      var ntr = tr.cloneNode();\n\n      for (var col = 0; col < slotDatas[row].length; col++) {\n        var ntd = this.createContentTd(slotDatas[row][col], td);\n        ntr.appendChild(ntd);\n      }\n\n      trows.push(ntr);\n    }\n\n    return trows;\n  };\n\n  Month.prototype.createContentTd = function (data, td) {\n    var ntd = td.cloneNode();\n\n    if (data.colSpan) {\n      ntd.setAttribute('colspan', data.colSpan.toString());\n    }\n\n    this.updateClassList(data);\n    var type = data.type;\n\n    if (data.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n      data.className.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n      type = 'resourceGroupCells';\n    }\n\n    if (this.parent.workHours.highlight && this.isWorkDay(data.date, data.workDays)) {\n      data.className.push(cls.WORKDAY_CLASS);\n    }\n\n    if (this.isCurrentDate(data.date)) {\n      data.className.push(cls.CURRENTDATE_CLASS);\n    }\n\n    addClass([ntd], data.className);\n    ntd.setAttribute('data-date', data.date.getTime().toString());\n\n    if (!isNullOrUndefined(data.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n      var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex : data.groupIndex;\n      ntd.setAttribute('data-group-index', '' + groupIndex);\n    }\n\n    this.renderDateHeaderElement(data, ntd);\n\n    if (this.parent.activeViewOptions.cellTemplate) {\n      var args_1 = {\n        date: data.date,\n        type: type,\n        groupIndex: data.groupIndex\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.cellTemplateName;\n      var templateId = scheduleId + viewName + 'cellTemplate';\n      var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false));\n      append(cellTemplate, ntd);\n    }\n\n    var args = {\n      elementType: type,\n      element: ntd,\n      date: data.date,\n      groupIndex: data.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return ntd;\n  };\n\n  Month.prototype.renderDateHeaderElement = function (data, ntd) {\n    if (this.parent.currentView === 'TimelineMonth') {\n      return;\n    }\n\n    var dateHeader = createElement('div', {\n      className: cls.DATE_HEADER_CLASS\n    });\n\n    if (this.parent.activeViewOptions.cellHeaderTemplate) {\n      var args = {\n        date: data.date,\n        type: data.type,\n        groupIndex: data.groupIndex\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.cellHeaderTemplateName;\n      var templateId = scheduleId + viewName + 'cellHeaderTemplate';\n      var cellHeaderTemplate = [].slice.call(this.parent.getCellHeaderTemplate()(args, this.parent, 'cellHeaderTemplate', templateId, false));\n      append(cellHeaderTemplate, dateHeader);\n    } else {\n      var innerText = this.parent.calendarUtil.isMonthStart(data.date) && !this.isCurrentDate(data.date) && !this.parent.isAdaptive ? this.parent.globalize.formatDate(data.date, {\n        format: 'MMM d',\n        calendar: this.parent.getCalendarMode()\n      }) : this.parent.globalize.formatDate(data.date, {\n        skeleton: 'd',\n        calendar: this.parent.getCalendarMode()\n      });\n      dateHeader.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n    }\n\n    ntd.appendChild(dateHeader);\n\n    if (this.getModuleName() === 'month') {\n      addClass([dateHeader], cls.NAVIGATE_CLASS);\n      var skeleton = 'full';\n      var announcementText = this.parent.globalize.formatDate(data.date, {\n        skeleton: skeleton,\n        calendar: this.parent.getCalendarMode()\n      });\n      dateHeader.setAttribute('aria-label', announcementText);\n    }\n  };\n\n  Month.prototype.getMonthStart = function (currentDate) {\n    var useDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && (this.parent.uiStateValues.isCustomMonth || this.isCustomRange());\n    var date = useDisplayDate ? this.parent.activeViewOptions.displayDate : !(this.parent.uiStateValues.isCustomMonth || this.isCustomRange()) && this.isCustomMonth() ? currentDate : this.parent.calendarUtil.firstDateOfMonth(currentDate);\n    var monthStart = util.getWeekFirstDate(date, this.parent.activeViewOptions.firstDayOfWeek);\n    return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n  };\n\n  Month.prototype.getMonthEnd = function (currentDate) {\n    if (this.isCustomMonth()) {\n      var start = this.getMonthStart(currentDate);\n      var numberOfDays = util.WEEK_LENGTH * (this.parent.activeViewOptions.numberOfWeeks > 0 ? this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS);\n      return util.addDays(start, numberOfDays - 1);\n    } else {\n      var endDate = util.addMonths(currentDate, this.parent.activeViewOptions.interval - 1);\n      var lastWeekOfMonth = util.getWeekFirstDate(this.parent.calendarUtil.lastDateOfMonth(endDate), this.parent.activeViewOptions.firstDayOfWeek);\n      return util.addDays(lastWeekOfMonth, util.WEEK_LENGTH - 1);\n    }\n  };\n\n  Month.prototype.isCustomRange = function () {\n    var dates = this.parent.getCurrentViewDates();\n\n    if (dates && dates.length > 0) {\n      var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n      var weekFirstDate = util.getWeekFirstDate(dates[dates.length - 1], this.parent.activeViewOptions.firstDayOfWeek);\n      return !(selectedTime >= util.getWeekFirstDate(dates[0], this.parent.activeViewOptions.firstDayOfWeek).getTime() && selectedTime <= util.addDays(weekFirstDate, 6).getTime());\n    }\n\n    return false;\n  };\n\n  Month.prototype.getRenderDates = function (workDays) {\n    var renderDates = [];\n    var currentDate = util.resetTime(this.parent.selectedDate);\n    var start = this.getMonthStart(currentDate);\n    var monthEnd = this.getMonthEnd(currentDate);\n\n    do {\n      if (this.parent.activeViewOptions.showWeekend) {\n        renderDates.push(start);\n      } else {\n        if (this.isWorkDay(start, workDays)) {\n          renderDates.push(start);\n        }\n      }\n\n      start = util.addDays(start, 1);\n\n      if (start.getHours() > 0) {\n        start = util.resetTime(start);\n      }\n    } while (start.getTime() <= monthEnd.getTime());\n\n    if (!workDays) {\n      this.renderDates = renderDates;\n    }\n\n    if (this.parent.headerModule) {\n      this.parent.headerModule.previousNextIconHandler();\n    }\n\n    return renderDates;\n  };\n\n  Month.prototype.getNextPreviousDate = function (type) {\n    if (this.isCustomMonth()) {\n      var dates = this.parent.getCurrentViewDates();\n      var date = util.getWeekFirstDate(type === 'next' ? dates[dates.length - 1] : dates[0], this.parent.activeViewOptions.firstDayOfWeek);\n      return util.addDays(date, type === 'next' ? util.WEEK_LENGTH : -(this.parent.activeViewOptions.numberOfWeeks > 0 ? this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS) * util.WEEK_LENGTH);\n    } else {\n      return util.addMonths(this.parent.selectedDate, (type === 'next' ? 1 : -1) * this.parent.activeViewOptions.interval);\n    }\n  };\n\n  Month.prototype.getStartDate = function () {\n    return this.getMonthStart(this.parent.selectedDate);\n  };\n\n  Month.prototype.getEndDate = function () {\n    return this.getMonthEnd(this.parent.selectedDate);\n  };\n\n  Month.prototype.getEndDateFromStartDate = function (start) {\n    return util.addDays(new Date(start.getTime()), 1);\n  };\n\n  Month.prototype.getDateRangeText = function () {\n    if (this.parent.isAdaptive || isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n      var startDate = this.parent.selectedDate;\n      var endDate = void 0;\n      var updateCustomRange = false;\n\n      if (this.isCustomMonth()) {\n        var dates = this.parent.getCurrentViewDates();\n        updateCustomRange = dates[0].getMonth() !== dates[dates.length - 1].getMonth() || dates[0].getFullYear() !== dates[dates.length - 1].getFullYear();\n\n        if (updateCustomRange) {\n          startDate = dates[0];\n          endDate = dates[dates.length - 1];\n        }\n      }\n\n      var isUpdateDateRange = this.parent.currentView !== 'Month' || !this.isCustomMonth();\n\n      if (this.parent.activeViewOptions.interval > 1 && isUpdateDateRange || updateCustomRange) {\n        endDate = endDate ? endDate : util.addMonths(util.lastDateOfMonth(startDate), this.parent.activeViewOptions.interval - 1);\n\n        if (startDate.getFullYear() === endDate.getFullYear()) {\n          var monthNames = this.parent.globalize.formatDate(startDate, {\n            format: 'MMMM',\n            calendar: this.parent.getCalendarMode()\n          }) + ' - ' + this.parent.globalize.formatDate(endDate, {\n            format: 'MMMM ',\n            calendar: this.parent.getCalendarMode()\n          }) + this.parent.globalize.formatDate(endDate, {\n            skeleton: 'y',\n            calendar: this.parent.getCalendarMode()\n          });\n          return util.capitalizeFirstWord(monthNames, 'single');\n        }\n\n        var text = this.parent.globalize.formatDate(startDate, {\n          format: 'MMMM',\n          calendar: this.parent.getCalendarMode()\n        }) + ' ' + startDate.getFullYear() + ' - ' + this.parent.globalize.formatDate(endDate, {\n          format: 'MMMM ',\n          calendar: this.parent.getCalendarMode()\n        }) + this.parent.globalize.formatDate(endDate, {\n          skeleton: 'y',\n          calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(text, 'single');\n      }\n\n      var format = this.parent.activeViewOptions.dateFormat ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n      return util.capitalizeFirstWord(this.parent.globalize.formatDate(startDate, {\n        format: format,\n        calendar: this.parent.getCalendarMode()\n      }), 'single');\n    }\n\n    return this.formatDateRange(this.parent.selectedDate);\n  };\n\n  Month.prototype.getLabelText = function (view) {\n    return this.parent.localeObj.getConstant(view) + ' of ' + util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, {\n      format: 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    }), 'single');\n  };\n\n  Month.prototype.createWeekNumberElement = function (text) {\n    var tr = createElement('tr');\n    var td = createElement('td', {\n      className: cls.WEEK_NUMBER_CLASS,\n      attrs: {\n        'title': text ? this.parent.localeObj.getConstant('week') + ' ' + text : ''\n      },\n      innerHTML: text || ''\n    });\n    tr.appendChild(td);\n    var args = {\n      elementType: 'weekNumberCell',\n      element: td\n    };\n    this.parent.trigger(event.renderCell, args);\n    return tr;\n  };\n\n  Month.prototype.unWireEvents = function () {\n    var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n\n    if (contentScrollableEle) {\n      EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n    }\n  };\n\n  Month.prototype.isCustomMonth = function () {\n    return this.parent.currentView === 'Month' && (!isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0);\n  };\n\n  Month.prototype.getModuleName = function () {\n    return 'month';\n  };\n\n  Month.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n\n    if (this.element) {\n      if (this.monthEvent) {\n        this.monthEvent.destroy();\n        this.monthEvent = null;\n      }\n\n      this.unWireEvents();\n\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.destroy();\n      }\n\n      if (this.parent.scheduleTouchModule) {\n        this.parent.scheduleTouchModule.resetValues();\n      }\n\n      _super.prototype.destroy.call(this);\n    }\n  };\n\n  return Month;\n}(ViewBase);\n\nexport { Month };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","formatUnit","isNullOrUndefined","createElement","addClass","append","prepend","remove","ViewBase","MonthEvent","util","event","cls","Month","_super","parent","_this","call","dayNameFormat","viewClass","isInverseTableSelect","monthEvent","monthDates","addEventListener","on","scrollUiUpdate","onScrollUIUpdate","dataReady","onDataReady","cellClick","onCellClick","removeEventListener","off","args","renderAppointments","notify","eventsLoaded","onContentScroll","e","removeNewEventElement","virtualScroll","scrollTopPanel","target","scrollLeftPanel","uiStateValues","top","scrollTop","left","scrollLeft","setPersistence","leftPanel","getLeftPanelElement","element","querySelector","WEEK_NUMBER_WRAPPER_CLASS","headerHeight","getHeaderBarHeight","header","getDatesHeaderElement","content","getContentAreaElement","height","offsetHeight","setContentHeight","scrollBarWidth","getScrollBarWidth","firstElementChild","style","cssProperties","rtlBorder","rtlPadding","offsetWidth","clientWidth","border","padding","setColWidth","scrollPosition","isPreventScrollUpdate","currentView","top_1","isInitial","scrollToSelectedDate","retainScrollPosition","headerCell","HEADER_CELLS_CLASS","selectedDate","getTime","toString","enableRtl","offsetLeft","getContentTable","leftPanelElement","CONTENT_TABLE_CLASS","getScrollXIndent","generateColumnLevels","colLevels","level","getDateSlots","renderDates","activeViewOptions","workDays","group","resources","length","resourceBase","generateResourceLevels","isGroupAdaptive","lastResourceLevel","resourceLevel","groupIndex","push","count","showWeekend","WEEK_LENGTH","dateSlots","isCurrentMonth","col","classList","currentDateIndex","slice","map","date","getDay","indexOf","getCurrentTime","CURRENT_DAY_CLASS","type","className","colSpan","getDayNameFormat","isAdaptive","renderLayout","setPanel","TABLE_WRAP_CLASS","clsList","byDate","allowVirtualScrolling","VIRTUAL_SCROLL_CLASS","rowAutoHeight","eventSettings","ignoreWhitespace","IGNORE_WHITESPACE","renderPanel","appendChild","createTableLayout","OUTER_TABLE_CLASS","setAttribute","renderHeader","renderContent","activeView","getPanel","RESOURCE_TOOLBAR_CONTAINER","renderResourceMobileLayout","contentReady","isCustomMonth","refreshHeader","wireCellEvents","add","workCellAction","cellMouseDown","cellDblClick","tr","renderLeftIndent","dateTd","renderDatesHeader","showWeekNumber","renderWeekNumberContent","workTd","wrap","CONTENT_WRAP_CLASS","contentArea","renderContentArea","monthAgendaWrapper","TABLE_CONTAINER_CLASS","renderAppointmentContainer","dateCol","Date","td","contentWrapper","contentWrapTable","noOfDays","i","length_1","dates","splice","weekNumber","getWeekNumberContent","createWeekNumberElement","container","DATE_HEADER_CONTAINER_CLASS","DATE_HEADER_WRAP_CLASS","table","createColGroup","trEle","ntr","cloneNode","j","createHeaderCell","tdEle","addAttributes","ele","innerHTML","capitalizeFirstWord","getDayNames","setResourceHeaderContent","DATE_HEADER_CLASS","dateHeaderTemplate","cellArgs","elementId","id","viewName","dateHeaderTemplateName","templateId","dateTemplate","getDateHeaderTemplate","NAVIGATE_CLASS","skeleton","title","globalize","formatDate","calendar","getCalendarMode","innerText","calendarUtil","isMonthStart","isCurrentDate","format","elementType","trigger","renderCell","getContentSlots","slotDatas","prepareSlots","rowIndex","renderDate","resData","data","WORK_CELLS_CLASS","includeResource","_i","_a","res","colDates","_b","colDates_1","colDate","_c","colDates_2","lastRow","resourcesTd","resIndex","DISABLE_DATE","updateClassList","isOtherMonth","OTHERMONTH_CLASS","isMinMaxDate","DISABLE_DATES","isSelectedDate","SELECTED_CELL_CLASS","start","end","tbl","addAutoHeightClass","monthDate","firstDateOfMonth","lastDateOfMonth","addMonths","interval","tBody","getContentRows","trows","attrs","role","row","ntd","createContentTd","RESOURCE_PARENT_CLASS","RESOURCE_GROUP_CELLS_CLASS","workHours","highlight","isWorkDay","WORKDAY_CLASS","CURRENTDATE_CLASS","renderDateHeaderElement","cellTemplate","args_1","scheduleId","cellTemplateName","getCellTemplate","dateHeader","cellHeaderTemplate","cellHeaderTemplateName","getCellHeaderTemplate","getModuleName","announcementText","getMonthStart","currentDate","useDisplayDate","displayDate","isCustomRange","monthStart","getWeekFirstDate","firstDayOfWeek","getFullYear","getMonth","getDate","getMonthEnd","numberOfDays","numberOfWeeks","DEFAULT_WEEKS","addDays","endDate","lastWeekOfMonth","getCurrentViewDates","selectedTime","resetTime","weekFirstDate","getRenderDates","monthEnd","getHours","headerModule","previousNextIconHandler","getNextPreviousDate","getStartDate","getEndDate","getEndDateFromStartDate","getDateRangeText","dateFormat","startDate","updateCustomRange","isUpdateDateRange","monthNames","text","formatDateRange","getLabelText","view","localeObj","getConstant","WEEK_NUMBER_CLASS","unWireEvents","contentScrollableEle","destroy","isDestroyed","scheduleTouchModule","resetValues"],"sources":["C:/Users/cpelea/OneDrive - ENDAVA/Desktop/apps/test/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/month.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, isNullOrUndefined, createElement, addClass, append, prepend, remove } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month view\n */\nvar Month = /** @class */ (function (_super) {\n    __extends(Month, _super);\n    function Month(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.dayNameFormat = 'wide';\n        _this.viewClass = 'e-month-view';\n        _this.isInverseTableSelect = false;\n        _this.monthEvent = null;\n        _this.monthDates = {};\n        return _this;\n    }\n    Month.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUIUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n        this.parent.on(event.cellClick, this.onCellClick, this);\n    };\n    Month.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUIUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n            this.parent.off(event.cellClick, this.onCellClick);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onDataReady = function (args) {\n        this.monthEvent = new MonthEvent(this.parent);\n        this.monthEvent.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onCellClick = function (event) { };\n    Month.prototype.onContentScroll = function (e) {\n        this.parent.removeNewEventElement();\n        this.parent.notify(event.virtualScroll, e);\n        this.scrollTopPanel(e.target);\n        this.scrollLeftPanel(e.target);\n        this.parent.uiStateValues.top = e.target.scrollTop;\n        this.parent.uiStateValues.left = e.target.scrollLeft;\n        this.setPersistence();\n    };\n    Month.prototype.scrollLeftPanel = function (target) {\n        var leftPanel = this.getLeftPanelElement();\n        if (leftPanel) {\n            leftPanel.scrollTop = target.scrollTop;\n        }\n    };\n    Month.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS);\n    };\n    Month.prototype.onScrollUIUpdate = function (args) {\n        var headerHeight = this.getHeaderBarHeight();\n        var header = this.getDatesHeaderElement();\n        var content = this.getContentAreaElement();\n        var height = this.parent.element.offsetHeight - headerHeight - header.offsetHeight;\n        var leftPanel = this.getLeftPanelElement();\n        if (this.parent.height !== 'auto') {\n            this.setContentHeight(content, leftPanel, height);\n        }\n        var scrollBarWidth = util.getScrollBarWidth();\n        header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n        header.style[args.cssProperties.rtlPadding] = '';\n        if (content.offsetWidth - content.clientWidth > 0) {\n            header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n            header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n        }\n        else {\n            header.firstElementChild.style[args.cssProperties.border] = '';\n            header.style[args.cssProperties.padding] = '';\n        }\n        this.setColWidth(content);\n        if (args.scrollPosition || !args.isPreventScrollUpdate && this.parent.currentView === 'TimelineMonth') {\n            var top_1 = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.top : args.scrollPosition.top;\n            if (leftPanel) {\n                leftPanel.scrollTop = top_1;\n            }\n            content.scrollTop = top_1;\n            if (this.parent.uiStateValues.isInitial) {\n                this.scrollToSelectedDate();\n                this.parent.uiStateValues.isInitial = false;\n            }\n            else {\n                content.scrollLeft = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.left :\n                    args.scrollPosition.left;\n            }\n        }\n        else {\n            this.scrollToSelectedDate();\n        }\n        this.retainScrollPosition();\n    };\n    Month.prototype.scrollToSelectedDate = function () {\n        var headerCell = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"'\n            + this.parent.selectedDate.getTime().toString() + '\"]');\n        var content = this.getContentAreaElement();\n        if (!isNullOrUndefined(headerCell)) {\n            content.scrollLeft = !this.parent.enableRtl ?\n                headerCell.offsetLeft : -(this.parent.getContentTable().offsetWidth - headerCell.offsetLeft - headerCell.offsetWidth);\n        }\n        else {\n            content.scrollLeft = 0;\n        }\n        if (content.scrollLeft === 0 && this.parent.uiStateValues.isInitial) {\n            this.parent.uiStateValues.left = 0;\n        }\n    };\n    Month.prototype.setContentHeight = function (content, leftPanelElement, height) {\n        content.style.height = 'auto';\n        if (this.parent.currentView === 'Month') {\n            content.style.height = formatUnit(height);\n        }\n        if (leftPanelElement) {\n            if (this.parent.currentView === 'MonthAgenda') {\n                height = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n            }\n            leftPanelElement.style.height = 'auto';\n            leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n        }\n    };\n    Month.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.currentView === 'MonthAgenda') {\n                colLevels = [level];\n            }\n            if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                colLevels = [this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays)];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    Month.prototype.getDateSlots = function (renderDates, workDays) {\n        var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : workDays.length;\n        var dateSlots = [];\n        var isCurrentMonth = this.isCurrentMonth(this.parent.selectedDate);\n        for (var col = 0; col < count; col++) {\n            var classList = [cls.HEADER_CELLS_CLASS];\n            var currentDateIndex = renderDates.slice(0, count).map(function (date) { return date.getDay(); });\n            if (isCurrentMonth && currentDateIndex.indexOf(this.parent.getCurrentTime().getDay()) === col) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateSlots.push({ date: renderDates[col], type: 'monthDay', className: classList, colSpan: 1, workDays: workDays });\n        }\n        return dateSlots;\n    };\n    Month.prototype.getDayNameFormat = function () {\n        if (this.parent.isAdaptive || this.parent.activeViewOptions.group.resources.length > 0) {\n            return 'abbreviated';\n        }\n        return 'wide';\n    };\n    Month.prototype.renderLayout = function (type) {\n        this.dayNameFormat = this.getDayNameFormat();\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var clsList = [this.viewClass];\n        clsList.push(type);\n        if (this.parent.activeViewOptions.group.byDate) {\n            clsList.push('e-by-date');\n        }\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n        }\n        if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n            clsList.push(cls.IGNORE_WHITESPACE);\n        }\n        addClass([this.element], clsList);\n        this.renderPanel(type);\n        this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        this.colLevels = this.generateColumnLevels();\n        this.renderHeader();\n        this.renderContent();\n        var target = (this.parent.currentView === 'MonthAgenda') ? this.parent.activeView.getPanel() : this.parent.element;\n        if (this.parent.uiStateValues.isGroupAdaptive && !target.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n            this.renderResourceMobileLayout();\n        }\n        this.parent.notify(event.contentReady, {});\n        if (this.parent.uiStateValues.isCustomMonth) {\n            this.parent.uiStateValues.isCustomMonth = false;\n        }\n    };\n    Month.prototype.refreshHeader = function () {\n        remove(this.element.querySelector('tbody tr'));\n        this.renderHeader();\n        this.parent.notify(event.contentReady, {});\n    };\n    Month.prototype.wireCellEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    Month.prototype.renderHeader = function () {\n        var tr = createElement('tr');\n        this.renderLeftIndent(tr);\n        var dateTd = createElement('td');\n        dateTd.appendChild(this.renderDatesHeader());\n        tr.appendChild(dateTd);\n        prepend([tr], this.element.querySelector('tbody'));\n    };\n    Month.prototype.renderLeftIndent = function (tr) {\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('td', { className: 'e-left-indent' }));\n        }\n    };\n    Month.prototype.renderContent = function () {\n        var tr = createElement('tr');\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(this.renderWeekNumberContent());\n        }\n        var workTd = createElement('td');\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        var contentArea = this.renderContentArea();\n        if (this.parent.currentView === 'Month') {\n            wrap.appendChild(contentArea);\n        }\n        else {\n            var monthAgendaWrapper = createElement('div', { className: cls.TABLE_CONTAINER_CLASS });\n            monthAgendaWrapper.appendChild(contentArea);\n            wrap.appendChild(monthAgendaWrapper);\n        }\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        workTd.appendChild(wrap);\n        tr.appendChild(workTd);\n        this.element.querySelector('tbody').appendChild(tr);\n        this.renderAppointmentContainer();\n    };\n    Month.prototype.renderWeekNumberContent = function () {\n        var dateCol = this.renderDates.map(function (date) { return new Date(+date); });\n        var td = createElement('td');\n        var contentWrapper = createElement('div', { className: cls.WEEK_NUMBER_WRAPPER_CLASS });\n        td.appendChild(contentWrapper);\n        var contentWrapTable = this.createTableLayout();\n        contentWrapper.appendChild(contentWrapTable);\n        var noOfDays = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n            this.parent.activeViewOptions.workDays.length;\n        for (var i = 0, length_1 = (this.renderDates.length / noOfDays); i < length_1; i++) {\n            var dates = dateCol.splice(0, noOfDays);\n            var weekNumber = this.parent.getWeekNumberContent(dates);\n            contentWrapTable.querySelector('tbody').appendChild(this.createWeekNumberElement(weekNumber));\n        }\n        return td;\n    };\n    Month.prototype.renderAppointmentContainer = function () {\n        //Here needs to render mobile view appointment details on selected date\n    };\n    Month.prototype.renderDatesHeader = function () {\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        var wrap = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n        container.appendChild(wrap);\n        var table = this.createTableLayout();\n        this.createColGroup(table, this.colLevels[this.colLevels.length - 1]);\n        var trEle = createElement('tr');\n        for (var i = 0; i < this.colLevels.length; i++) {\n            var level = this.colLevels[i];\n            var ntr = trEle.cloneNode();\n            for (var j = 0; j < level.length; j++) {\n                var td = level[j];\n                ntr.appendChild(this.createHeaderCell(td));\n            }\n            table.querySelector('tbody').appendChild(ntr);\n        }\n        wrap.appendChild(table);\n        return container;\n    };\n    Month.prototype.createHeaderCell = function (td) {\n        var tdEle = createElement('td');\n        this.addAttributes(td, tdEle);\n        if (td.type === 'monthDay') {\n            var ele = createElement('span', { innerHTML: util.capitalizeFirstWord(this.parent.getDayNames(this.dayNameFormat)[td.date.getDay()], 'single') });\n            tdEle.appendChild(ele);\n        }\n        if (td.type === 'resourceHeader') {\n            this.setResourceHeaderContent(tdEle, td);\n        }\n        if (td.type === 'dateHeader') {\n            addClass([tdEle], cls.DATE_HEADER_CLASS);\n            tdEle.setAttribute('data-date', td.date.getTime().toString());\n            if (this.parent.activeViewOptions.dateHeaderTemplate) {\n                var cellArgs = { date: td.date, type: td.type };\n                var elementId = this.parent.element.id + '_';\n                var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n                var templateId = elementId + viewName + 'dateHeaderTemplate';\n                var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(cellArgs, this.parent, 'dateHeaderTemplate', templateId, false));\n                if (dateTemplate && dateTemplate.length) {\n                    append(dateTemplate, tdEle);\n                }\n            }\n            else {\n                var ele = createElement('span', { className: cls.NAVIGATE_CLASS });\n                var skeleton = 'full';\n                var title = this.parent.globalize.formatDate(td.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n                ele.setAttribute('title', util.capitalizeFirstWord(title, 'multiple'));\n                var innerText = (this.parent.calendarUtil.isMonthStart(td.date) && !this.isCurrentDate(td.date) && !this.parent.isAdaptive) ?\n                    this.parent.globalize.formatDate(td.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                    this.parent.globalize.formatDate(td.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n                ele.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n                tdEle.appendChild(ele);\n            }\n            this.wireCellEvents(tdEle);\n        }\n        var args = { elementType: td.type, element: tdEle, date: td.date, groupIndex: td.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return tdEle;\n    };\n    Month.prototype.getContentSlots = function () {\n        if (!(this.colLevels[this.colLevels.length - 1] && this.colLevels[this.colLevels.length - 1][0])) {\n            return [];\n        }\n        var slotDatas = [];\n        var prepareSlots = function (rowIndex, renderDate, resData, classList) {\n            var data = {\n                date: new Date(+renderDate), groupIndex: resData.groupIndex, workDays: resData.workDays,\n                type: 'monthCells', className: classList || [cls.WORK_CELLS_CLASS]\n            };\n            if (!slotDatas[rowIndex]) {\n                slotDatas[rowIndex] = [];\n            }\n            slotDatas[rowIndex].push(data);\n        };\n        var includeResource = this.parent.currentView !== 'MonthAgenda' &&\n            this.parent.activeViewOptions.group.resources.length > 0;\n        if (includeResource && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeViewOptions.group.byDate) {\n            for (var _i = 0, _a = this.colLevels[this.colLevels.length - 2]; _i < _a.length; _i++) {\n                var res = _a[_i];\n                var dates = res.renderDates.map(function (date) { return new Date(+date); });\n                var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : res.workDays.length;\n                for (var i = 0; i < (res.renderDates.length / count); i++) {\n                    var colDates = dates.splice(0, count);\n                    for (var _b = 0, colDates_1 = colDates; _b < colDates_1.length; _b++) {\n                        var colDate = colDates_1[_b];\n                        prepareSlots(i, colDate, res);\n                    }\n                }\n            }\n        }\n        else {\n            var dates = this.renderDates.map(function (date) { return new Date(+date); });\n            var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n                this.parent.activeViewOptions.workDays.length;\n            for (var i = 0; i < (this.renderDates.length / count); i++) {\n                var colDates = dates.splice(0, count);\n                for (var _c = 0, colDates_2 = colDates; _c < colDates_2.length; _c++) {\n                    var colDate = colDates_2[_c];\n                    if (includeResource) {\n                        var lastRow = this.colLevels[(this.colLevels.length - 1)];\n                        var resourcesTd = lastRow.slice(0, lastRow.length / count);\n                        for (var resIndex = 0; resIndex < resourcesTd.length; resIndex++) {\n                            var clsList = void 0;\n                            if (resIndex !== 0) {\n                                clsList = [cls.WORK_CELLS_CLASS, cls.DISABLE_DATE];\n                            }\n                            prepareSlots(i, colDate, resourcesTd[resIndex], clsList);\n                        }\n                    }\n                    else {\n                        prepareSlots(i, colDate, this.colLevels[this.colLevels.length - 1][0]);\n                    }\n                }\n            }\n        }\n        return slotDatas;\n    };\n    Month.prototype.updateClassList = function (data) {\n        if (!this.isCustomMonth() && this.isOtherMonth(data.date)) {\n            data.className.push(cls.OTHERMONTH_CLASS);\n        }\n        if (!this.parent.isMinMaxDate(data.date)) {\n            data.className.push(cls.DISABLE_DATES);\n        }\n        if (this.parent.currentView === 'MonthAgenda' && this.parent.isSelectedDate(data.date)) {\n            data.className.push(cls.SELECTED_CELL_CLASS);\n        }\n    };\n    Month.prototype.isOtherMonth = function (date) {\n        return date.getTime() < this.monthDates.start.getTime() || date.getTime() > this.monthDates.end.getTime();\n    };\n    Month.prototype.renderContentArea = function () {\n        var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.addAutoHeightClass(tbl);\n        if (this.parent.currentView === 'TimelineMonth') {\n            this.createColGroup(tbl, this.colLevels[this.colLevels.length - 1]);\n        }\n        var monthDate = new Date(this.parent.selectedDate.getTime());\n        this.monthDates = {\n            start: this.parent.calendarUtil.firstDateOfMonth(monthDate),\n            end: this.parent.calendarUtil.lastDateOfMonth(util.addMonths(monthDate, this.parent.activeViewOptions.interval - 1))\n        };\n        var tBody = tbl.querySelector('tbody');\n        append(this.getContentRows(), tBody);\n        this.wireCellEvents(tBody);\n        return tbl;\n    };\n    Month.prototype.getContentRows = function () {\n        var trows = [];\n        var tr = createElement('tr', { attrs: { role: 'row' } });\n        var td = createElement('td', { attrs: { role: 'gridcell', 'aria-selected': 'false' } });\n        var slotDatas = this.getContentSlots();\n        for (var row = 0; row < slotDatas.length; row++) {\n            var ntr = tr.cloneNode();\n            for (var col = 0; col < slotDatas[row].length; col++) {\n                var ntd = this.createContentTd(slotDatas[row][col], td);\n                ntr.appendChild(ntd);\n            }\n            trows.push(ntr);\n        }\n        return trows;\n    };\n    Month.prototype.createContentTd = function (data, td) {\n        var ntd = td.cloneNode();\n        if (data.colSpan) {\n            ntd.setAttribute('colspan', data.colSpan.toString());\n        }\n        this.updateClassList(data);\n        var type = data.type;\n        if (data.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n            data.className.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n            type = 'resourceGroupCells';\n        }\n        if (this.parent.workHours.highlight && this.isWorkDay(data.date, data.workDays)) {\n            data.className.push(cls.WORKDAY_CLASS);\n        }\n        if (this.isCurrentDate(data.date)) {\n            data.className.push(cls.CURRENTDATE_CLASS);\n        }\n        addClass([ntd], data.className);\n        ntd.setAttribute('data-date', data.date.getTime().toString());\n        if (!isNullOrUndefined(data.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n            var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex :\n                data.groupIndex;\n            ntd.setAttribute('data-group-index', '' + groupIndex);\n        }\n        this.renderDateHeaderElement(data, ntd);\n        if (this.parent.activeViewOptions.cellTemplate) {\n            var args_1 = { date: data.date, type: type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellTemplateName;\n            var templateId = scheduleId + viewName + 'cellTemplate';\n            var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false));\n            append(cellTemplate, ntd);\n        }\n        var args = { elementType: type, element: ntd, date: data.date, groupIndex: data.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return ntd;\n    };\n    Month.prototype.renderDateHeaderElement = function (data, ntd) {\n        if (this.parent.currentView === 'TimelineMonth') {\n            return;\n        }\n        var dateHeader = createElement('div', { className: cls.DATE_HEADER_CLASS });\n        if (this.parent.activeViewOptions.cellHeaderTemplate) {\n            var args = { date: data.date, type: data.type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'cellHeaderTemplate';\n            var cellHeaderTemplate = [].slice.call(this.parent.getCellHeaderTemplate()(args, this.parent, 'cellHeaderTemplate', templateId, false));\n            append(cellHeaderTemplate, dateHeader);\n        }\n        else {\n            var innerText = (this.parent.calendarUtil.isMonthStart(data.date) && !this.isCurrentDate(data.date) && !this.parent.isAdaptive) ?\n                this.parent.globalize.formatDate(data.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                this.parent.globalize.formatDate(data.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n            dateHeader.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n        }\n        ntd.appendChild(dateHeader);\n        if (this.getModuleName() === 'month') {\n            addClass([dateHeader], cls.NAVIGATE_CLASS);\n            var skeleton = 'full';\n            var announcementText = this.parent.globalize.formatDate(data.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n            dateHeader.setAttribute('aria-label', announcementText);\n        }\n    };\n    Month.prototype.getMonthStart = function (currentDate) {\n        var useDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && (this.parent.uiStateValues.isCustomMonth || this.isCustomRange());\n        var date = useDisplayDate ? this.parent.activeViewOptions.displayDate : !(this.parent.uiStateValues.isCustomMonth ||\n            this.isCustomRange()) && this.isCustomMonth() ? currentDate : this.parent.calendarUtil.firstDateOfMonth(currentDate);\n        var monthStart = util.getWeekFirstDate(date, this.parent.activeViewOptions.firstDayOfWeek);\n        return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n    };\n    Month.prototype.getMonthEnd = function (currentDate) {\n        if (this.isCustomMonth()) {\n            var start = this.getMonthStart(currentDate);\n            var numberOfDays = util.WEEK_LENGTH * (this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS);\n            return util.addDays(start, (numberOfDays - 1));\n        }\n        else {\n            var endDate = util.addMonths(currentDate, this.parent.activeViewOptions.interval - 1);\n            var lastWeekOfMonth = util.getWeekFirstDate(this.parent.calendarUtil.lastDateOfMonth(endDate), this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(lastWeekOfMonth, util.WEEK_LENGTH - 1);\n        }\n    };\n    Month.prototype.isCustomRange = function () {\n        var dates = this.parent.getCurrentViewDates();\n        if (dates && dates.length > 0) {\n            var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n            var weekFirstDate = util.getWeekFirstDate(dates[dates.length - 1], this.parent.activeViewOptions.firstDayOfWeek);\n            return !(selectedTime >= util.getWeekFirstDate(dates[0], this.parent.activeViewOptions.firstDayOfWeek).getTime() &&\n                selectedTime <= util.addDays(weekFirstDate, 6).getTime());\n        }\n        return false;\n    };\n    Month.prototype.getRenderDates = function (workDays) {\n        var renderDates = [];\n        var currentDate = util.resetTime(this.parent.selectedDate);\n        var start = this.getMonthStart(currentDate);\n        var monthEnd = this.getMonthEnd(currentDate);\n        do {\n            if (this.parent.activeViewOptions.showWeekend) {\n                renderDates.push(start);\n            }\n            else {\n                if (this.isWorkDay(start, workDays)) {\n                    renderDates.push(start);\n                }\n            }\n            start = util.addDays(start, 1);\n            if (start.getHours() > 0) {\n                start = util.resetTime(start);\n            }\n        } while (start.getTime() <= monthEnd.getTime());\n        if (!workDays) {\n            this.renderDates = renderDates;\n        }\n        if (this.parent.headerModule) {\n            this.parent.headerModule.previousNextIconHandler();\n        }\n        return renderDates;\n    };\n    Month.prototype.getNextPreviousDate = function (type) {\n        if (this.isCustomMonth()) {\n            var dates = this.parent.getCurrentViewDates();\n            var date = util.getWeekFirstDate(type === 'next' ? dates[dates.length - 1]\n                : dates[0], this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(date, type === 'next' ? util.WEEK_LENGTH : -(this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS) * util.WEEK_LENGTH);\n        }\n        else {\n            return util.addMonths(this.parent.selectedDate, ((type === 'next' ? 1 : -1) * this.parent.activeViewOptions.interval));\n        }\n    };\n    Month.prototype.getStartDate = function () {\n        return this.getMonthStart(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDate = function () {\n        return this.getMonthEnd(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDateFromStartDate = function (start) {\n        return util.addDays(new Date(start.getTime()), 1);\n    };\n    Month.prototype.getDateRangeText = function () {\n        if (this.parent.isAdaptive || isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n            var startDate = this.parent.selectedDate;\n            var endDate = void 0;\n            var updateCustomRange = false;\n            if (this.isCustomMonth()) {\n                var dates = this.parent.getCurrentViewDates();\n                updateCustomRange = dates[0].getMonth() !== dates[dates.length - 1].getMonth() ||\n                    dates[0].getFullYear() !== dates[dates.length - 1].getFullYear();\n                if (updateCustomRange) {\n                    startDate = dates[0];\n                    endDate = dates[dates.length - 1];\n                }\n            }\n            var isUpdateDateRange = (this.parent.currentView !== 'Month' || !this.isCustomMonth());\n            if (this.parent.activeViewOptions.interval > 1 && isUpdateDateRange || updateCustomRange) {\n                endDate = endDate ? endDate : util.addMonths(util.lastDateOfMonth(startDate), this.parent.activeViewOptions.interval - 1);\n                if (startDate.getFullYear() === endDate.getFullYear()) {\n                    var monthNames = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' - ' +\n                        (this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() })) +\n                        this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                    return util.capitalizeFirstWord(monthNames, 'single');\n                }\n                var text = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' ' +\n                    startDate.getFullYear() + ' - ' +\n                    this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() }) +\n                    this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                return util.capitalizeFirstWord(text, 'single');\n            }\n            var format = (this.parent.activeViewOptions.dateFormat) ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n            return util.capitalizeFirstWord(this.parent.globalize.formatDate(startDate, { format: format, calendar: this.parent.getCalendarMode() }), 'single');\n        }\n        return this.formatDateRange(this.parent.selectedDate);\n    };\n    Month.prototype.getLabelText = function (view) {\n        return this.parent.localeObj.getConstant(view) + ' of ' + util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, { format: 'MMMM y', calendar: this.parent.getCalendarMode() }), 'single');\n    };\n    Month.prototype.createWeekNumberElement = function (text) {\n        var tr = createElement('tr');\n        var td = createElement('td', {\n            className: cls.WEEK_NUMBER_CLASS,\n            attrs: { 'title': (text ? this.parent.localeObj.getConstant('week') + ' ' + text : '') },\n            innerHTML: (text || '')\n        });\n        tr.appendChild(td);\n        var args = { elementType: 'weekNumberCell', element: td };\n        this.parent.trigger(event.renderCell, args);\n        return tr;\n    };\n    Month.prototype.unWireEvents = function () {\n        var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentScrollableEle) {\n            EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n        }\n    };\n    Month.prototype.isCustomMonth = function () {\n        return this.parent.currentView === 'Month' &&\n            (!isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0);\n    };\n    Month.prototype.getModuleName = function () {\n        return 'month';\n    };\n    Month.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            if (this.monthEvent) {\n                this.monthEvent.destroy();\n                this.monthEvent = null;\n            }\n            this.unWireEvents();\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            if (this.parent.scheduleTouchModule) {\n                this.parent.scheduleTouchModule.resetValues();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Month;\n}(ViewBase));\nexport { Month };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}